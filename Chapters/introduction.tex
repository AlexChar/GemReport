\chapter{Εισαγωγή}
	\paragraph{Σκοπός}
	Σκοπός της πτυχιακής είναι να εξηγήσει σε υψηλό επίπεδο τη σύνδεση και αλληλεπίδραση βασικών υποσυστήματων τα οποία απαρτίζουν μια
	τυπική μηχανή γραφικών, μαζί με διαγράμματα και παραδείγματα χρήσης του \gls{API}. 
	Η δομή των μηχανών γραφικών στα κατώτερα επίπεδα είναι πανομοιότυπη. Οι μεγάλες διαφορές των μηχανών γραφικών βρίσκονται στην υλοποίηση. Πρακτικά, οι μηχανές γραφικών απαρτίζονται από τα ίδια υποσυστήματα. Πολλά βιβλία έχουν γραφτεί τα οποία εστιάζουν στο κάθε υποσύστημα ξεχωριστά, όπως π.χ. την απόδοση (rendering).
	Η πτυχιακή εστιάζει στην αρχιτεκτονική των υποσυστημάτων, για το πώς τα υποσυστήματα είναι οργανωμένα, ποιες λειτουργίες και μοτίβα επαναλαμβάνονται κατά τη δημιουργία παιχνιδιών, ποιες είναι οι απαιτήσεις για το κάθε μεγάλο υποσύστημα της μηχανής και πώς οργανώνεται ένα υποσύστημα χωρίς να έχει δεσμεύσεις με συγκεκριμένη πλατφόρμα και εξαρτήσεις από άλλα υποσυστήματα.

	\paragraph{Υλοποίηση}
	Η υλοποίηση χωρίζεται σε δύο μεγάλα μέρη.	
	\begin{itemize}
		\item Τη βιβλιοθήκη \ref{Gem Engine} η οποία περιέχει τις κύριες λειτουργίες και τα υποσυστήματα τα οποία απαρτίζουν τη μηχανή γραφικών όπως είναι, το σύστημα εισόδων και η διαχείριση οθονών.
		\item Tο γραφικό περιβάλλον της μηχανής \ref{Gem IDE} το οποίο προσφέρει οπτική αναπαράσταση των λειτουργιών του \ref{Gem Engine}. Μέσω του \ref{Gem IDE} o χρήστης μπορεί να αποσφαλματώσει το παιχνίδι και να προσθέσει λειτουργίες μέσω γραφικού περιβάλλοντος.
	\end{itemize}
	H υλοποιήση αξιοποιεί αντικειμενοστραφή (object-oriented) και functional τεχνικές, είναι γραμμένη σε C\# και κατά την ανάπτυξη του πηγαίου κώδικα χρησιμοποιήθηκε το σύστημα ελέγχου αναθεωρήσεων git.  Ο πηγαίος κώδικας βρίσκεται στο \cite{gem} και \cite{ginet} και η τεκμηρίωσή του στο \cite{gemDocs}.	
	
\section{Δομή της εργασίας}
	Στο πρώτο κεφάλαιο γίνεται επεξήγηση των εννοιών και διαφορών της ανάπτυξης παιχνιδιών (game development) και του σχεδιασμού παιχνιδιών (game design) και ανάλυση μιας τυπικής ομάδας ανάπτυξης παιχνιδιών, στην οποία απευθύνεται το εργαλείο.
	Στο επόμενο κεφάλαιο γίνεται ανάλυση των βασικών υποσυστημάτων και λειτουργιών τα οποία βρίσκονται στον πυρήνα της βιβλιοθήκης, όπως η διαχείριση του κύκλου ζωής, το σύστημα εισόδων και η διαχείριση πόρων και είναι αναγκαία για τη λειτουργία της μηχανής. Κατά την ανάλυση γίνεται αναφορά στο πρόβλημα, επισκόπηση στην αρχιτεκτονική με διαγράμματα και περιπτώσεις χρήσεις μέσω του \gls{API}.
    Στο τέταρτο κεφάλαιο αναλύεται το υποσύστημα δικτύωσης της μηχανής, το οποίο επιτρέπει την επικοινωνία μεταξύ πελατών (clients) μέσω sockets δικτύου (network sockets).
	Στο πέμπτο κεφάλαιο παρουσιάζονται τα υποσυστήματα αποσφαλμάτωσης της μηχανής μαζί με τεχνικές ελέγχου υγείας του λογισμικού, τόσο κατά τη διαδικασία δημιουργίας όσο και στις τελικές εκδόσεις.
	Στον επίλογο αναφέρονται οι τεχνικές επέκτασης της μηχανής με εισηγήσεις και συμπεράσματα.
\section{Εργαλεία και βιβλιοθήκες}
Με την διόγκωση τον βιβλιοθηκών ανοικτού λογισμικού, έγινε εύκολη η εύρεση και ενσωμάτωση κώδικα τρίτων. Σε ιστοσελίδες φιλοξενίας λογισμικού ανοικτού κώδικα υπάρχουν αποδεκτές και πολυχρησιμοποιημένες λύσεις για πολλά προβλήματα ώστε να μην χρειάζεται "να ανακαλύψεις τον τρόχο". Η πτυχιακή χρησιμοποιεί διάφορα εργαλεία και βιβλιοθήκες τα οποία επιλύουν γενικά προβλήματα υποδομών λογισμικού (infrastructural) για να μπορεί να επικεντρωθεί σε επίπεδα που αφορούν τον τομέα ανάπτυξης παιχνιδιών. Τα βασικά εργαλεία τα οποία χρησιμοποιεί ή επεκτείνει είναι τα παρακάτω:
\begin{itemize}
	\item{Monogame} Βιβλιοθήκη για απόδοση (rendering)  και ανάπτυξη σε πολλές πλατφόρμες (cross-platform) η οποία βρίσκεται ένα επίπεδο πάνω από τους οδηγούς (drivers) της κάρτας γραφικών.
	\item{SDL} Simple DirectMedia Layer μια βιβλιοθήκη για ανάπτυξη σε πολλές πλατφόρμες (cross-platform development library) η οποία χρησιμοποιείται για το σύστημα ήχου και εισόδου.
	\item{TPL} Ασύγχρονα πρότυπα για ταυτόχρονο και παράλληλο προγραμματισμό.
	\item{Lidgren} Αφαίρεση για sockets δικτύου (network sockets). Χρησιμοποιείται από το υποσύστημα δικτύωσης.
	\item{Castle Proxy} Βιβλιοθήκη για τροποποίηση κώδικα σε χαμηλότερο επίπεδο \ref{Common Intermediate Language}.
	\item{Farseer} Βιβλιοθήκη προσομοίωσης φυσικού κόσμου. Χρησιμοποιείται από το υποσύστημα φυσικής και εντοπισμού συγκρούσεων.
	\item{Autofac} Inversion of Control. To κάθε υποσύστημα δημοσιεύει τις αφαιρέσεις του μέσα από το container. Χρησιμοποιείται για σκοπούς επεκτασιμότητας των υλοποιήσεων, ομαδοποίησης λειτουργιών, δυναμικής αλλαγής συμπεριφορών και για την εύρεση εξαρτήσεων.
	\item{NLog} Logger. H προεπιλεγμένη βιβλιοθήκη στο υποσύστημα διαγνωστικών για δημοσίευση μηνυμάτων.
	\item{Glsl} Shaders. OpenGL Shading Language η οποία χρησιμοποιείται κατευθείαν στον αγωγό (pipeline) της κάρτας γραφικών. Χρησιμοποιείται για καλή επίδοση στη διαδικασία σκίασης, στις ανακλάσεις, εφέ (effects) και σε υπολογισμούς οι οποίοι είναι πολύ εντατικοί για τον επεξεργαστή.
	\item{MEF} Managent Extensibility Framework. Βιβλιοθήκη για δημιουργία λογισμικού με δυνατότητες δυναμικής επέκτασης και διαχείρισης \ref{plugins}. Χρησιμοποιείται για να βρίσκει και να φορτώνει τα \ref{plugins} του περιβάλλοντος ανάπτυξης.
	\item{WPF} Windows Presentation Foundation. Χρησιμοποιείται για τη δημιουργία του γραφικού περιβάλλοντος του περιβάλλοντος ανάπτυξης \ref{Gem IDE}.
	\item{Roslyn} C\# compiler ανοιχτού κώδικα με δυνατότητα scripting.
	\item{Rx} Observable streams για προγραμματισμό οδηγούμενο από συμβάντα.
	\item{Caliburn} Model–view–viewmodel για WPF. Το MVVM διαχωρίζει το γραφικό περιβάλλον από τη λογική ενημέρωσής του.
	\item{Moq} Χρησιμοποιείται για δημιουργία ψεύτικων αντικειμένων με τροποποιήσιμη συμπεριφορά για δοκιμές.
	\item{MsTest} Εργαλείο δοκιμών μονάδας (unit tests) βασισμένο σε ισχυρισμούς (assertions).
	\item{VS 2015 Ultimate} Ολοκληρωμένο περιβάλλον ανάπτυξης για λογισμικό με ενσωματωμένο C\# profiler για ανάλυση των επιδόσεων και επιθεώρηση της κατανομής μνήμης.
\end{itemize}

\section{Τεχνικές υλοποίησης}
Η υλοποίηση βασίστηκε αυστηρά σε \ref{SOLID} principles. Οι κλάσεις δεν έχουν εξαρτήσεις σε υλοποιήσεις και είναι immutable, δηλαδή μετά τη δημιουργία τους δεν μπορεί να αλλάξει η εσωτερική τους κατάσταση (internal state), για αποφυγή ανεπιθύμητων συμπεριφορών. Το \ref{API} είναι declarative, fluent και βασισμένο σε αφαιρέσεις με εύκολα τροποποιήσιμη συγκρότηση λόγω inversion of control.

\section{Εργαλεία ανάπτυξης λογισμικού με τη βοήθεια υπολογιστή}
Η διαδικασία ανάπτυξης λογισμικού είναι ακριβή και ο σχεδιασμός γίνεται όλο και πιο σύνθετος και περίπλοκος. Τα έργα γίνονται όλο και πιο απαιτητικά και δαπανηρά. Δημιουργήθηκε η ανάγκη για ένα εργαλείο το οποίο να παρέχει ένα ομοιογενές περιβάλλον για την ανάπτυξη σύνθετων έργων. 
Ένα CASE (Computer Aided Software Engineering) tool είναι ένα λογισμικό-εργαλείο το οποίο απλοποιεί τον κύκλο ανάπτυξης ενός λογισμικού. Τα Case Tools γίνονται όλο και πιο δημοφιλή, λόγω της βελτίωσης των δυνατοτήτων και της λειτουργικότητας στην ανάπτυξη της ποιότητας του λογισμικού. Η διαδικασία ανάπτυξης αυτοματοποιείται, και συντονίζεται. Το λογισμικό συντηρείται και αναλύεται εύκολα. 

\subsection{Kοινές λειτουργίες}
Η ντετερμινιστική οριοθέτηση των λειτουργιών ενός case tool δεν μπορεί να γίνει γιατί οι λειτουργίες διαφέρουν ανάλογα με τον σκοπό χρήσης. Οι λειτουργίες οι οποίες επαναλαμβάνονται είναι οι παρακάτω:
\begin{itemize}
	\item Δημιουργία ροής δεδομένων και μοντέλων οντοτήτων.
	\item Καθιέρωση της σχέσης μεταξύ απαιτήσεων και προτύπων.
	\item Ανάπτυξη του σχεδιασμού σε υψηλό επίπεδο.
	\item Ανάπτυξη λειτουργικών και διαδικαστικών περιγραφών
	\item Ανάπτυξη περιπτώσεων δοκιμών (test cases).	
\end{itemize}

\subsection{Πλεονεκτήματα της χρήσης του εργαλείου}
H ανάπτυξη λογισμικού με CASE tools έχει πολλά πλεονεκτήματα. Η εγκατάσταση του είναι γρήγορη και εξοικονομείται χρόνος μειώνοντας τον χρόνο στον προγραμματισμό και τις δοκιμές, αφού πολλές λειτουργίες είναι αυτοματοποιημένες. Υπάρχει η δυνατότητα οπτικοποίησης του κώδικα και της ροή δεδομένων για καλύτερη κατανόηση και ελέγχου του λογισμικού. Το εργαλείο αναλαμβάνει για την βέλτιστη χρήση των διαθέσιμων πόρων, ούτως ώστε η ομάδα ανάπτυξης να επικεντρωθεί στον πυρήνα της εφαρμογής τους. Η ανάλυση, η ανάπτυξη και ο σχεδιασμός γίνονται με ενιαίες μεθοδολογίες και η τεκμηρίωση δημιουργείται και τροποποιείται αυτόματα. Πολλά εργαλεία περιέχουν εξαγωγή των δεδομένων σε γνωστές μορφές (well known formats) για μεταφορά πληροφοριών ανάμεσα σε διάφορα εργαλεία. Σε μια βιομηχανία, όπου ο χρόνος είναι ασφυκτικός, οι απαιτήσεις αλλάζουν συνέχεια και οι εκδόσεις λογισμικών γίνονται όλο και πιο συχνές, η αυτοματοποίηση των διαφόρων δραστηριοτήτων των διαδικασιών ανάπτυξης και διαχείρισης του συστήματος αυξάνει την παραγωγικότητα της ομάδας ανάπτυξης.

\subsection{Χαρακτηριστικά ενός καλού εργαλείου}
Ένα case tool θεωρείται καλό και χρήσιμο αν έχει τα παρακάτω χαρακτηριστικά:
\begin{itemize}
	\item Τυποποιημένη μεθοδολογία χρησιμοποιώντας τεχνικές μοντελοποίησης όπως \ref{UML}.
	\item Flexibility (ευελιξία): το εργαλείο πρέπει να προσφέρει στον χρήστη τη δυνατότητα να επιλέγει ποια εργαλεία να χρησιμοποιήσει.
	\item Strong integration (ισχυρή ένταξη): το εργαλείο πρέπει να υποστηρίζει όλα τα στάδια ανάπτυξης. Όταν γίνεται μια αλλαγή, τα στάδια τα οποία επηρεάζονται πρέπει να τροποποιούνται κατάλληλα.
	\item Ενσωμάτωση με εργαλεία ελέγχου.
	\item Reverse-engineering (αντίστροφη μηχανική): δυνατότητα δημιουργίας κώδικα από δεδομένα.
\end{itemize}

	
